#version 450
layout(local_size_x = 8, local_size_y = 8, local_size_z = 1) in;

struct _433
{
    uint _m0;
    float _m1;
};

layout(set = 0, binding = 0, std140) uniform _48_50
{
    vec3 _m0;
    vec3 _m1;
    vec3 _m2;
    vec3 _m3;
    uvec2 _m4;
} _50;

layout(set = 1, binding = 2, std430) readonly buffer _370_372
{
    uint _m0[];
} _372;

layout(set = 1, binding = 0, rgba32f) uniform writeonly image2D _152;

void main()
{
    do
    {
        ivec2 _42 = ivec2(gl_GlobalInvocationID.xy);
        int _46 = _42.x;
        bool _55 = uint(_46) >= _50._m4.x;
        bool _66;
        if (!_55)
        {
            _66 = uint(_42.y) >= _50._m4.y;
        }
        else
        {
            _66 = _55;
        }
        if (_66)
        {
            break;
        }
        vec3 _103 = normalize((_50._m1 + (_50._m2 * float(_46))) + (_50._m3 * float(_42.y)));
        float _884 = _103.x;
        float _1511;
        if (abs(_884) > 3.5527136788005009293556213378906e-15)
        {
            _1511 = _884;
        }
        else
        {
            _1511 = (_884 >= 0.0) ? 3.5527136788005009293556213378906e-15 : (-3.5527136788005009293556213378906e-15);
        }
        vec3 _1843 = _103;
        _1843.x = _1511;
        float _899 = _103.y;
        float _1512;
        if (abs(_899) > 3.5527136788005009293556213378906e-15)
        {
            _1512 = _899;
        }
        else
        {
            _1512 = (_899 >= 0.0) ? 3.5527136788005009293556213378906e-15 : (-3.5527136788005009293556213378906e-15);
        }
        vec3 _1848 = _1843;
        _1848.y = _1512;
        float _914 = _103.z;
        float _1513;
        if (abs(_914) > 3.5527136788005009293556213378906e-15)
        {
            _1513 = _914;
        }
        else
        {
            _1513 = (_914 >= 0.0) ? 3.5527136788005009293556213378906e-15 : (-3.5527136788005009293556213378906e-15);
        }
        vec3 _1853 = _1848;
        _1853.z = _1513;
        vec3 _932 = vec3(-1.0) / abs(_1853);
        vec3 _935 = _932 * ((_50._m0 * vec3(0.0009765625)) + vec3(1.0));
        bool _938 = _1511 > 0.0;
        vec3 _1948;
        if (_938)
        {
            vec3 _1858 = _935;
            _1858.x = (3.0 * _932.x) - _935.x;
            _1948 = _1858;
        }
        else
        {
            _1948 = _935;
        }
        uint _1827 = uint(_938);
        uint _1518;
        vec3 _1950;
        if (_1512 > 0.0)
        {
            vec3 _1863 = _1948;
            _1863.y = (3.0 * _932.y) - _1948.y;
            _1950 = _1863;
            _1518 = _1827 ^ 2u;
        }
        else
        {
            _1950 = _1948;
            _1518 = _1827;
        }
        uint _1548;
        vec3 _1951;
        if (_1513 > 0.0)
        {
            vec3 _1868 = _1950;
            _1868.z = (3.0 * _932.z) - _1950.z;
            _1951 = _1868;
            _1548 = _1518 ^ 4u;
        }
        else
        {
            _1951 = _1950;
            _1548 = _1518;
        }
        float _979 = _932.x;
        float _985 = _932.y;
        float _992 = _932.z;
        float _1014 = min(min(_979 - _1951.x, _985 - _1951.y), _992 - _1951.z);
        float _1016 = max(max(max((2.0 * _979) - _1951.x, (2.0 * _985) - _1951.y), (2.0 * _992) - _1951.z), 0.0);
        bool _1025 = ((1.5 * _979) - _1951.x) > _1016;
        vec3 _1953;
        if (_1025)
        {
            vec3 _1884 = vec3(1.0);
            _1884.x = 1.5;
            _1953 = _1884;
        }
        else
        {
            _1953 = vec3(1.0);
        }
        uint _1828 = uint(_1025);
        uint _1522;
        vec3 _1955;
        if (((1.5 * _985) - _1951.y) > _1016)
        {
            vec3 _1888 = _1953;
            _1888.y = 1.5;
            _1955 = _1888;
            _1522 = _1828 ^ 2u;
        }
        else
        {
            _1955 = _1953;
            _1522 = _1828;
        }
        uint _1543;
        vec3 _1958;
        if (((1.5 * _992) - _1951.z) > _1016)
        {
            vec3 _1892 = _1955;
            _1892.z = 1.5;
            _1958 = _1892;
            _1543 = _1522 ^ 4u;
        }
        else
        {
            _1958 = _1955;
            _1543 = _1522;
        }
        vec3 _1957;
        _1957 = _1958;
        uint _1063;
        _433 _436[23];
        uint _1696;
        uint _1738;
        uint _1760;
        uint _1766;
        uint _1775;
        float _1791;
        float _1797;
        float _1803;
        float _1806;
        vec3 _1975;
        uint _1523 = 22u;
        uint _1524 = 0u;
        uint _1534 = 0u;
        uint _1538 = 0u;
        uint _1542 = _1543;
        float _1551 = _1016;
        float _1554 = _1014;
        float _1559 = 0.5;
        float _1584 = _1014;
        for (;;)
        {
            if (_1523 < 23u)
            {
                _1063 = _1524 + uint(1);
                uint _1549;
                if (_1534 == 0u)
                {
                    _1549 = _372._m0[_1538 + (_1542 ^ _1548)];
                }
                else
                {
                    _1549 = _1534;
                }
                vec3 _1077 = _1957 * _932;
                vec3 _1079 = _1077 - _1951;
                float _1081 = _1079.x;
                float _1083 = _1079.y;
                float _1086 = _1079.z;
                float _1087 = min(min(_1081, _1083), _1086);
                if ((_1549 != 0u) && (_1551 <= _1554))
                {
                    float _1097 = min(_1554, _1087);
                    float _1099 = _1559 * 0.5;
                    vec3 _1104 = (_932 * _1099) + _1079;
                    if (_1551 <= _1097)
                    {
                        if ((_1549 & 2147483648u) == 0u)
                        {
                            _1696 = _1063;
                            break;
                        }
                        if (_1087 < _1584)
                        {
                            _436[_1523]._m0 = _1538;
                            _436[_1523]._m1 = _1554;
                        }
                        bool _1135 = _1104.x > _1551;
                        vec3 _1970;
                        if (_1135)
                        {
                            vec3 _1899 = _1957;
                            _1899.x = _1957.x + _1099;
                            _1970 = _1899;
                        }
                        else
                        {
                            _1970 = _1957;
                        }
                        uint _1829 = uint(_1135);
                        uint _1599;
                        vec3 _1971;
                        if (_1104.y > _1551)
                        {
                            vec3 _1903 = _1970;
                            _1903.y = _1970.y + _1099;
                            _1971 = _1903;
                            _1599 = _1829 ^ 2u;
                        }
                        else
                        {
                            _1971 = _1970;
                            _1599 = _1829;
                        }
                        uint _1776;
                        vec3 _1976;
                        if (_1104.z > _1551)
                        {
                            vec3 _1907 = _1971;
                            _1907.z = _1971.z + _1099;
                            _1976 = _1907;
                            _1776 = _1599 ^ 4u;
                        }
                        else
                        {
                            _1976 = _1971;
                            _1776 = _1599;
                        }
                        _1975 = _1976;
                        _1806 = _1087;
                        _1803 = _1099;
                        _1797 = _1097;
                        _1791 = _1551;
                        _1775 = _1776;
                        _1766 = (_1549 & 1073741823u) << uint(3);
                        _1760 = 0u;
                        _1738 = _1523 - uint(1);
                        _1957 = _1975;
                        _1584 = _1806;
                        _1559 = _1803;
                        _1554 = _1797;
                        _1551 = _1791;
                        _1542 = _1775;
                        _1538 = _1766;
                        _1534 = _1760;
                        _1524 = _1063;
                        _1523 = _1738;
                        continue;
                    }
                }
                bool _1177 = _1081 <= _1087;
                vec3 _1963;
                if (_1177)
                {
                    vec3 _1911 = _1957;
                    _1911.x = _1957.x - _1559;
                    _1963 = _1911;
                }
                else
                {
                    _1963 = _1957;
                }
                uint _1830 = uint(_1177);
                uint _1566;
                vec3 _1964;
                if (_1083 <= _1087)
                {
                    vec3 _1915 = _1963;
                    _1915.y = _1963.y - _1559;
                    _1964 = _1915;
                    _1566 = _1830 ^ 2u;
                }
                else
                {
                    _1964 = _1963;
                    _1566 = _1830;
                }
                uint _1569;
                vec3 _1965;
                if (_1086 <= _1087)
                {
                    vec3 _1919 = _1964;
                    _1919.z = _1964.z - _1559;
                    _1965 = _1919;
                    _1569 = _1566 ^ 4u;
                }
                else
                {
                    _1965 = _1964;
                    _1569 = _1566;
                }
                uint _1216 = _1542 ^ _1569;
                bool _1220 = (_1216 & _1569) != 0u;
                uint _1742;
                uint _1770;
                uint _1777;
                float _1798;
                float _1805;
                vec3 _1977;
                if (_1220)
                {
                    uint _1578;
                    if ((_1569 & 1u) != 0u)
                    {
                        _1578 = 0u | (floatBitsToUint(_1965.x) ^ floatBitsToUint(_1965.x + _1559));
                    }
                    else
                    {
                        _1578 = 0u;
                    }
                    uint _1581;
                    if ((_1569 & 2u) != 0u)
                    {
                        _1581 = _1578 | (floatBitsToUint(_1965.y) ^ floatBitsToUint(_1965.y + _1559));
                    }
                    else
                    {
                        _1581 = _1578;
                    }
                    uint _1582;
                    if ((_1569 & 4u) != 0u)
                    {
                        _1582 = _1581 | (floatBitsToUint(_1965.z) ^ floatBitsToUint(_1965.z + _1559));
                    }
                    else
                    {
                        _1582 = _1581;
                    }
                    uint _1272 = uint(findMSB(_1582));
                    uint _1288 = floatBitsToUint(_1965.x) >> _1272;
                    uint _1293 = floatBitsToUint(_1965.y) >> _1272;
                    uint _1298 = floatBitsToUint(_1965.z) >> _1272;
                    vec3 _1930 = _1965;
                    _1930.x = uintBitsToFloat(_1288 << _1272);
                    vec3 _1932 = _1930;
                    _1932.y = uintBitsToFloat(_1293 << _1272);
                    vec3 _1934 = _1932;
                    _1934.z = uintBitsToFloat(_1298 << _1272);
                    _1977 = _1934;
                    _1805 = uintBitsToFloat((_1272 + 104u) << 23u);
                    _1798 = _436[_1272]._m1;
                    _1777 = ((_1288 & 1u) | ((_1293 & 1u) << 1u)) | ((_1298 & 1u) << 2u);
                    _1770 = _436[_1272]._m0;
                    _1742 = _1272;
                }
                else
                {
                    _1977 = _1965;
                    _1805 = _1559;
                    _1798 = _1554;
                    _1777 = _1216;
                    _1770 = _1538;
                    _1742 = _1523;
                }
                _1975 = _1977;
                _1806 = _1220 ? 0.0 : _1584;
                _1803 = _1805;
                _1797 = _1798;
                _1791 = _1087;
                _1775 = _1777;
                _1766 = _1770;
                _1760 = _1220 ? 0u : _1549;
                _1738 = _1742;
                _1957 = _1975;
                _1584 = _1806;
                _1559 = _1803;
                _1554 = _1797;
                _1551 = _1791;
                _1542 = _1775;
                _1538 = _1766;
                _1534 = _1760;
                _1524 = _1063;
                _1523 = _1738;
                continue;
            }
            else
            {
                _1696 = _1524;
                break;
            }
        }
        float _143 = float(_1696) * 0.0078125;
        imageStore(_152, _42, vec4(_143, _143, _143, 1.0));
        break;
    } while(false);
}

